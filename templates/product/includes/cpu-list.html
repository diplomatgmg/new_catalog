{% extends  'product/base-product.html' %}
{% load static %}
{% load product_extras %}

{% block content %}

    <div class="container">
        <div class="product-list">
            {% for product in products %}
                <div class="product">
                    <div class="product-name">{{ product }}</div>
                    <div class="product-name">Ядер: {{ product.num_cores }}</div>
                    <div class="product-name">Частота: {{ product.base_clock }}</div>
                    <div class="product-compare">
                        {% include 'product/includes/add-to-comparison-button.html' %}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="filter">
            <form method="get" action="{% url 'product:cpu' %}">
                <fieldset>
                    <legend>Цена</legend>
                    <div class="filter-interval">
                        <label>От <input type="number" name="min_price" disabled
                                         value="{{ request.GET.min_price }}"></label>
                        <label>До <input type="number" name="max_price" disabled
                                         value="{{ request.GET.max_price }}"></label>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Производитель</legend>
                    {% for brand in brands %}
                        <div>
                            <label>
                                <input type="checkbox" name="brand" value="{{ brand }}"
                                       {% if brand in request|get_list:'brand' %}checked{% endif %}>
                                {{ brand }}
                            </label>
                        </div>
                    {% endfor %}
                    {% for brand in disabled_brands %}
                        <div>
                            <label>
                                <input type="checkbox" name="brand" value="{{ brand }}" disabled>
                                {{ brand }}
                            </label>
                        </div>
                    {% endfor %}

                </fieldset>

                <fieldset>
                    <legend>Семейство</legend>
                    <label for="search_family"></label><input type="text" id="search_family" placeholder="Поиск...">
                    <div class="search-list">
                        {% for family in family_search_list %}
                            <div>
                                <label>
                                    <input type="checkbox" class="family" name="family" value="{{ family }}"
                                           {% if family in request|get_list:'family' %}checked{% endif %}>
                                    {{ family }}
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Модель</legend>
                    <label for="search_model"></label><input type="text" id="search_model" placeholder="Поиск...">
                    <div class="search-list">
                        {% for model in model_search_list %}
                            <div>
                                <label>
                                    <input type="checkbox" class="model" name="model" value="{{ model }}"
                                           {% if model in request|get_list:'model' %}checked{% endif %}>
                                    {{ model }}
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Количество ядер</legend>
                    <div class="filter-interval">
                        <label>От <input type="number" name="min_num_cores"
                                         placeholder="{{ num_cores_min|default:0 }} ядер"
                                         value="{{ request.GET.min_num_cores }}"></label>
                        <label>До <input type="number" name="max_num_cores"
                                         placeholder="{{ num_cores_max|default:0 }} ядер"
                                         value="{{ request.GET.max_num_cores }}"></label>
                    </div>
                </fieldset>


                <fieldset>
                    <legend>Частота ядра</legend>
                    <div class="filter-interval">
                        <label>От <input type="number" name="min_base_clock"
                                         placeholder="{{ base_clock_min|default:0 }} МГц"
                                         value="{{ request.GET.min_base_clock }}"></label>
                        <label>До <input type="number" name="max_base_clock"
                                         placeholder="{{ base_clock_max|default:0 }} МГц"
                                         value="{{ request.GET.max_base_clock }}"></label>
                    </div>
                </fieldset>

                <button type="submit">Применить</button>
                <a href="{{ request.path }}" class="reset">Сбросить</a>

            </form>
        </div>
    </div>

{% endblock %}

